extends Node2D

# This will store the player's position and abilities
var player_position: Vector2 = Vector2(0, 0)  # Starting position (x, y)
var has_ability: bool = false  # Does the player have an ability?

# Reference to the actual player node
var player_node: Node2D = null

# Called when the autoload is initialized
@onready var player_scene = preload("res://Scene Folder/player.tscn")  # Adjust to your player scene path

func _ready():
	# Check if we are in the gameplay scene and instantiate the player there
	if get_tree().current_scene.name == "GameScene":  # Make sure it's the gameplay scene
		if player_node == null:
			player_node = player_scene.instantiate()
			get_tree().current_scene.add_child(player_node)  # Add the player to the current scene

			# Set player position from stored data (only if needed)
			player_node.position = player_position

# Updates the player's position (if needed)
func set_player_position(new_position: Vector2):
	player_position = new_position
	if player_node:
		player_node.position = new_position

# Updates the player's ability status
func set_player_ability(has_ability_status: bool):
	has_ability = has_ability_status
